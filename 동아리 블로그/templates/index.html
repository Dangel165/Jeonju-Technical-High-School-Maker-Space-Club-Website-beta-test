<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸš€ ì „ì£¼ê³µì—…ê³ ë“±í•™êµ ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ ë™ì•„ë¦¬ í™œë™ ê¸°ë¡</title>
  <style>
    /* í°íŠ¸ ì„¤ì •ì„ ë” ì•ˆì •ì ì¸ í•œê¸€ í°íŠ¸ ëª©ë¡ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. */
    body { 
        font-family: 'Malgun Gothic', 'Dotum', 'Apple SD Gothic Neo', sans-serif; 
        margin: 0; 
        padding: 0; 
        line-height: 1.6; 
        background: #f4f4f4; 
        
        /* [ì¸íŠ¸ë¡œ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘] */
        opacity: 0; /* ì´ˆê¸° ìƒíƒœ: íˆ¬ëª…í•˜ê²Œ ìˆ¨ê¹€ */
        transition: opacity 1.5s ease-in-out; /* 1.5ì´ˆ ë™ì•ˆ ë¶€ë“œëŸ½ê²Œ ë‚˜íƒ€ë‚˜ë„ë¡ ì„¤ì • */
    }
    /* JavaScriptì— ì˜í•´ ì¶”ê°€ë  í´ë˜ìŠ¤: ë¡œë”© ì™„ë£Œ í›„ ë¶ˆíˆ¬ëª…í•˜ê²Œ ë§Œë“¦ */
    body.loaded {
        opacity: 1; 
    }
    /* [ì¸íŠ¸ë¡œ ì• ë‹ˆë©”ì´ì…˜ ì¢…ë£Œ] */

    /* --------------------------------------------------- */
    /* [ìƒˆë¡œìš´ ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ ê´€ë ¨ CSS] */
    /* --------------------------------------------------- */
    /* ìƒˆë¡œìš´ ì• ë‹ˆë©”ì´ì…˜: ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ê¸° íš¨ê³¼ë¥¼ ìœ„í•œ ì´ˆê¸° ìˆ¨ê¹€ ìƒíƒœ */
    .hidden-section {
        opacity: 0;
        transform: translateY(50px); /* ì•„ë˜ì—ì„œ 50px ìœ„ë¡œ ì´ë™ëœ ìƒíƒœ */
        /* opacityì™€ transform ëª¨ë‘ 1ì´ˆ ë™ì•ˆ ë¶€ë“œëŸ½ê²Œ ì „í™˜ë˜ë„ë¡ ì„¤ì • */
        transition: opacity 1.0s ease-out, transform 1.0s ease-out; 
    }
    /* ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ê²Œ í•  í´ë˜ìŠ¤ (JavaScriptê°€ ì¶”ê°€) */
    .hidden-section.reveal {
        opacity: 1;
        transform: translateY(0);
    }
    /* --------------------------------------------------- */
    /* [ê¸°ì¡´ CSS ì• ë‹ˆë©”ì´ì…˜ ë° ì „í™˜ íš¨ê³¼] */
    /* --------------------------------------------------- */

    /* 1. Header Transition & Hover */
    header { 
        background: #2e8b57; 
        color: #fff; 
        padding: 20px; 
        text-align: center;
        transition: background 0.4s ease; /* ë°°ê²½ìƒ‰ ì „í™˜ íš¨ê³¼ */
    }
    header:hover {
        background: #3cb371; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ì•½ê°„ ë°ì€ ë…¹ìƒ‰ */
    }
    header h1 { margin: 0; }
    nav ul { list-style: none; margin: 0; padding: 0; display: flex; justify-content: center; }
    nav ul li { margin: 0 15px; }
    nav ul li a { 
        color: #fff; 
        text-decoration: none; 
        font-weight: bold; 
        transition: color 0.3s ease; /* ë§í¬ ìƒ‰ìƒ ì „í™˜ */
    }
    nav ul li a:hover {
        color: #ffcc00; /* í˜¸ë²„ ì‹œ ë°ì€ ë…¸ë€ìƒ‰ */
    }

    /* 2. Keyframe for H2 Fade-In (ì œëª© ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜) */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    section { padding: 50px 20px; max-width: 1000px; margin: auto; }
    h2 { 
        text-align: center; 
        color: #2e8b57; 
        margin-bottom: 30px; 
        /* ì• ë‹ˆë©”ì´ì…˜ ì ìš© */
        animation: fadeIn 1s ease-out; 
    }
    
    /* í¬ìŠ¤íŠ¸ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
    .post-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }
    .post-card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      overflow: hidden;
      transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
      text-decoration: none; /* ë§í¬ ìŠ¤íƒ€ì¼ ì œê±° */
      color: #333; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
      display: flex;
      flex-direction: column;
    }
    .post-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
    .post-card .post-thumbnail {
        height: 200px;
        overflow: hidden;
        background: #e0e0e0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        color: #666;
    }
    .post-card .post-content {
      padding: 20px;
      flex-grow: 1; /* ë‚´ìš©ì´ ì¶©ë¶„íˆ ì±„ìš°ë„ë¡ í•¨ */
    }
    .post-card h3 {
      color: #2e8b57;
      margin-top: 0;
      font-size: 1.5em;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .post-card p {
      color: #555;
      font-size: 0.95em;
      margin-bottom: 15px;
    }
    .post-meta {
      font-size: 0.8em;
      color: #888;
      margin-bottom: 10px;
    }
    .post-meta .date {
        margin-right: 10px;
    }

    /* ì†Œê°œ ì„¹ì…˜ */
    .about-content {
        display: flex;
        flex-wrap: wrap;
        gap: 30px;
        align-items: center;
        text-align: center;
    }
    .about-content p {
        /* í…ìŠ¤íŠ¸ ì¤„ ê°„ê²© ë¶€ë“œëŸ¬ìš´ ì „í™˜ */
        transition: opacity 1s ease-in;
    }
    .about-text, .about-image {
        flex: 1 1 300px;
    }
    .about-image img {
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        transition: transform 0.5s ease; /* ì´ë¯¸ì§€ í™•ëŒ€ ì „í™˜ */
    }
    .about-image img:hover {
        transform: scale(1.03);
    }
    .about-text {
        text-align: left;
    }
    .about-text h3 {
        color: #2e8b57;
        margin-top: 0;
    }
    
    /* 3. Member Item Hover Effect */
    .member-list {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
    }
    .member-item {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        text-align: center;
        width: 180px;
        /* ì „í™˜ íš¨ê³¼ */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 2px solid transparent;
    }
    .member-item:hover {
        transform: scale(1.05); /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ì•½ê°„ í™•ëŒ€ */
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        border: 2px solid #2e8b57; /* í…Œë‘ë¦¬ ê°•ì¡° */
    }

    .member-item img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 10px;
        border: 3px solid #2e8b57;
        transition: border-color 0.3s ease;
    }
    /* ì§€ë„êµì‚¬ íŠ¹ë³„ ìŠ¤íƒ€ì¼ */
    .member-item.teacher img {
        border-color: #800080; /* ë³´ë¼ìƒ‰ í…Œë‘ë¦¬ */
    }
    .member-item.teacher:hover {
        border: 2px solid #800080; /* í˜¸ë²„ ì‹œ ë³´ë¼ìƒ‰ í…Œë‘ë¦¬ ê°•ì¡° */
    }
    .member-item h4 {
        margin: 5px 0;
        color: #333;
    }
    .member-item p {
        margin: 0;
        font-size: 0.9em;
        color: #666;
    }

    /* 4. Write Button Pulse Animation */
    @keyframes pulse {
        0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(46, 139, 87, 0.7); }
        70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(46, 139, 87, 0); }
        100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(46, 139, 87, 0); }
    }

    .write-button-container a {
        background: #2e8b57; 
        color: white; 
        padding: 10px 20px; 
        text-decoration: none; 
        border-radius: 5px; 
        font-weight: bold; 
        transition: background 0.3s;
        display: inline-block;
        animation: pulse 2s infinite; /* ì• ë‹ˆë©”ì´ì…˜ ì ìš© */
    }
    .write-button-container a:hover {
        background: #3cb371; /* í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ */
        animation: none; /* í˜¸ë²„ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ì¤‘ì§€ */
    }

    /* ë¯¸ë””ì–´ ì¿¼ë¦¬ (ëª¨ë°”ì¼ ë°˜ì‘í˜•) */
    @media (max-width: 768px) {
        nav ul {
            flex-direction: column;
        }
        nav ul li {
            margin: 5px 0;
        }
        .post-grid {
            grid-template-columns: 1fr;
        }
        .about-content {
            flex-direction: column;
        }
        .about-text {
            text-align: center;
        }
        .member-list {
            gap: 15px;
        }
        .member-item {
            width: 45%; /* ëª¨ë°”ì¼ì—ì„œ ë‘ ê°œì”© í‘œì‹œ */
            max-width: 150px;
        }
    }
  </style>
</head>
<body id="page-body">

  <header>
    <h1><a href="{{ url_for('index') }}" style="color: inherit; text-decoration: none;">ì „ì£¼ê³µì—…ê³ ë“±í•™êµ ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤</a></h1>
    <p>í™œë™ ê¸°ë¡ ë° ì •ë³´ ê³µìœ  ë¸”ë¡œê·¸</p>
    <nav>
        <ul>
            <li><a href="#about">ë™ì•„ë¦¬ ì†Œê°œ</a></li>
            <li><a href="#activity">í™œë™ ê¸°ë¡</a></li>
            <li><a href="#members">ë©¤ë²„ ì†Œê°œ</a></li>
            <!-- member_login_page -> member_login ìœ¼ë¡œ í†µì¼ -->
            <li><a href="{{ url_for('member_login') }}">ë™ì•„ë¦¬ ë¡œê·¸ì¸</a></li>
            {% if g.user %}
            <li><a href="{{ url_for('logout') }}">ë¡œê·¸ì•„ì›ƒ</a></li>
            {% endif %}
        </ul>
    </nav>
  </header>

  <!-- ë™ì•„ë¦¬ ì†Œê°œ ì„¹ì…˜ -->
  <section id="about" class="about hidden-section">
    <h2>ë™ì•„ë¦¬ ì†Œê°œ</h2>
    <div class="about-content">
        <div class="about-image">
            <img src="https://placehold.co/400x300/2e8b57/ffffff?text=ë©”ì´ì»¤+í™œë™+ì‚¬ì§„" alt="ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ í™œë™ ì´ë¯¸ì§€">
        </div>
        <div class="about-text">
            <h3>ìš°ë¦¬ì˜ ë¹„ì „: ìƒìƒê³¼ í˜„ì‹¤ì„ ì‡ëŠ” ê³µê°„</h3>
            <p>
                ì „ì£¼ê³µì—…ê³ ë“±í•™êµ ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ ë™ì•„ë¦¬ëŠ” í•™ìƒë“¤ì´ ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¥¼ ì§ì ‘ ì„¤ê³„í•˜ê³  ì œì‘í•˜ëŠ” ê²½í—˜ì„ í†µí•´ ë¯¸ë˜ ê¸°ìˆ  ì¸ì¬ë¡œ ì„±ì¥í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” í•™ìŠµ ê³µë™ì²´ì…ë‹ˆë‹¤. 
                3D í”„ë¦°íŒ…, ë ˆì´ì € ì»¤íŒ…, ì½”ë”©, ë¡œë´‡ ê³µí•™ ë“± ë‹¤ì–‘í•œ ë©”ì´ì»¤ í™œë™ì„ ì§„í–‰í•˜ë©°, ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•ŠëŠ” ë„ì „ ì •ì‹ ê³¼ í˜‘ì—… ëŠ¥ë ¥ì„ ê¸°ë¥´ê³  ìˆìŠµë‹ˆë‹¤.
            </p>
            <p>
                ëª¨ë“  í™œë™ì€ ê¸°ë¡ìœ¼ë¡œ ë‚¨ì•„ ê³µìœ ë˜ë©°, í•™êµì™€ ì§€ì—­ ì‚¬íšŒì— ê¸ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.
            </p>
        </div>
    </div>
  </section>

  <!-- í™œë™ ê¸°ë¡ ì„¹ì…˜ (ë©”ì¸ ê²Œì‹œíŒ) -->
  <section id="activity" class="activity hidden-section">
    <h2>ìµœì‹  í™œë™ ê¸°ë¡</h2>
    
    {% if g.user and g.user.is_member %}
    <div style="text-align: right; margin-bottom: 20px;" class="write-button-container">
        <!-- write-button-container í´ë˜ìŠ¤ë¥¼ divì— ì¶”ê°€í•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ ì ìš© -->
        <a href="{{ url_for('write') }}">
           + ìƒˆ í™œë™ ê¸°ë¡ ì‘ì„±
        </a>
    </div>
    {% endif %}

    <div class="post-grid">
        {% for post in posts %}
        <!-- [BUILD ERROR FIX] post_detail -> detail ë¡œ ìˆ˜ì • ì™„ë£Œ -->
        <a href="{{ url_for('detail', post_id=post.id) }}" class="post-card">
          <!-- ì¸ë„¤ì¼ í”Œë ˆì´ìŠ¤í™€ë” -->
          <div class="post-thumbnail">
            ğŸ’¡
          </div>
          <div class="post-content">
            <h3>{{ post.title }}</h3>
            <div class="post-meta">
              <span class="date">ì‘ì„±ì¼: {{ post.created_at.strftime('%Y-%m-%d') }}</span>
              <span>ì‘ì„±ì: {{ post.author }}</span>
            </div>
            <!-- ë‚´ìš© ì¤‘ 100ìë§Œ ë¯¸ë¦¬ë³´ê¸° -->
            <p>{{ post.content[:100] }}{% if post.content|length > 100 %}...{% endif %}</p> 
          </div>
        </a>
        {% endfor %}

        {% if not posts %}
        <p style="text-align: center; grid-column: 1 / -1;">ì•„ì§ ì‘ì„±ëœ í™œë™ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ê¸€ì„ ì‘ì„±í•´ ë³´ì„¸ìš”!</p>
        {% endif %}

    </div>
  </section>

  <!-- ë©¤ë²„ ì†Œê°œ ì„¹ì…˜ -->
  <section id="members" class="members hidden-section">
    <h2>ì£¼ìš” ë©¤ë²„ ì†Œê°œ</h2>
    <div class="member-list">
        <!-- ì§€ë„êµì‚¬ ì¶”ê°€ -->
        <div class="member-item teacher">
            <img src="https://placehold.co/100x100/800080/ffffff?text=ì„ ìƒë‹˜" alt="ë‹´ë‹¹ ì„ ìƒë‹˜ ì‚¬ì§„">
            <h4>ìµœ ì§€ë„ ì„ ìƒë‹˜</h4>
            <p>ì§€ë„êµì‚¬</p>
            <p>ì´ê´„ ì§€ë„, ì•ˆì „ êµìœ¡ ë‹´ë‹¹</p>
        </div>
        <!-- ì˜ˆì‹œ ë©¤ë²„ 2: íšŒì¥ -->
        <div class="member-item">
            <img src="https://placehold.co/100x100/2e8b57/ffffff?text=íšŒì¥" alt="íšŒì¥ ì‚¬ì§„">
            <h4>ê¹€ íšŒì¥</h4>
            <p>ë™ì•„ë¦¬ íšŒì¥ (3í•™ë…„)</p>
            <p>í™œë™ ê¸°íš ë° ìš´ì˜ ì´ê´„</p>
        </div>
        <!-- ì˜ˆì‹œ ë©¤ë²„ 3: ë¶€íšŒì¥ -->
        <div class="member-item">
            <img src="https://placehold.co/100x100/3cb371/ffffff?text=ë¶€íšŒì¥" alt="ë¶€íšŒì¥ ì‚¬ì§„">
            <h4>ì´ ë¶€íšŒì¥</h4>
            <p>ë¶€íšŒì¥ (2í•™ë…„)</p>
            <p>ì¬ì • ë° ê¸°ë¡ ê´€ë¦¬ ë‹´ë‹¹</p>
        </div>
        <!-- ì˜ˆì‹œ ë©¤ë²„ 4: ì¼ë°˜ ë©¤ë²„ -->
        <div class="member-item">
            <img src="https://placehold.co/100x100/4682b4/ffffff?text=ë©¤ë²„A" alt="ë©¤ë²„ A ì‚¬ì§„">
            <h4>ë°• ë©¤ë²„ A</h4>
            <p>ì •íšŒì› (1í•™ë…„)</p>
            <p>3D ëª¨ë¸ë§ ì „ë¬¸</p>
        </div>
        <div class="member-item">
            <img src="https://placehold.co/100x100/4682b4/ffffff?text=ë©¤ë²„B" alt="ë©¤ë²„ B ì‚¬ì§„">
            <h4>ì • ë©¤ë²„ B</h4>
            <p>ì •íšŒì› (2í•™ë…„)</p>
            <p>ì½”ë”© ë° ì„ë² ë””ë“œ ì‹œìŠ¤í…œ</p>
        </div>
    </div>
  </section>
  
  <footer>
    <p style="text-align: center; padding: 20px; background: #2e8b57; color: white; margin-top: 50px; font-size: 0.8em;">
        &copy;  ì „ì£¼ê³µì—…ê³ ë“±í•™êµ ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ ë™ì•„ë¦¬. All Rights Reserved.
    </p>
  </footer>

    <script>
        // 1. ì „ì²´ í˜ì´ì§€ í˜ì´ë“œì¸ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
        });

        // 2. ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ê¸° ì• ë‹ˆë©”ì´ì…˜ (ìƒˆë¡œìš´ ë¡œì§: IntersectionObserver ì‚¬ìš©)
        const observerOptions = {
            root: null, // ë·°í¬íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê´€ì°°
            rootMargin: '0px',
            threshold: 0.1 // ìš”ì†Œê°€ ë·°í¬íŠ¸ì˜ 10% ì´ìƒ ë³´ì´ë©´ íŠ¸ë¦¬ê±°
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                // ìš”ì†Œê°€ ë·°í¬íŠ¸ì— ì§„ì…í•˜ë©´ 'reveal' í´ë˜ìŠ¤ ì¶”ê°€
                if (entry.isIntersecting) {
                    entry.target.classList.add('reveal');
                    // ì• ë‹ˆë©”ì´ì…˜ì´ í•œ ë²ˆ ì‹¤í–‰ëœ í›„ì—ëŠ” ê´€ì°° ì¤‘ì§€ (ì„±ëŠ¥ ìµœì í™”)
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        // ê´€ì°°í•  ì„¹ì…˜ë“¤ì„ ì„ íƒí•˜ê³  ê´€ì°°ìì— ë“±ë¡
        const hiddenElements = document.querySelectorAll('.hidden-section');
        hiddenElements.forEach(el => {
            observer.observe(el);
        });
    </script>
</body>
</html>
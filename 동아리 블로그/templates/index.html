<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ ì „ì£¼ê³µì—…ê³ ë“±í•™êµ ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ ë™ì•„ë¦¬ í™œë™ ê¸°ë¡</title>
    <style>
        /* í°íŠ¸ ë° ê¸°ë³¸ ì„¤ì • */
        body { 
            font-family: 'Malgun Gothic', 'Dotum', 'Apple SD Gothic Neo', sans-serif; 
            margin: 0; 
            padding: 0; 
            line-height: 1.6; 
            background: #f4f4f4; 
            color: #333; 
        }

        /* =========================================================
           1. Splash Screen (í”„ë¦¬ë¡œë”) ìŠ¤íƒ€ì¼
           ========================================================= */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #2e8b57; /* ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ ë©”ì¸ ìƒ‰ìƒ */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999; /* ìµœìƒìœ„ ë ˆì´ì–´ */
            opacity: 1;
            visibility: visible;
            /* ìŠ¤í”Œë˜ì‹œ í™”ë©´ì´ ì‚¬ë¼ì§ˆ ë•Œ ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ (0.5ì´ˆ) */
            transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
        }

        .splash-content {
            color: white;
            font-size: 2.5em;
            font-weight: 800;
            letter-spacing: 2px;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            /* CSS ì• ë‹ˆë©”ì´ì…˜ ì ìš© */
            animation: zoomIn 1.5s ease-in-out infinite alternate, 
                       pulse 2s ease-out infinite;
        }
        
        /* ë¡œê³  ì¤Œì¸/ì¤Œì•„ì›ƒ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes zoomIn {
            0% { transform: scale(0.9); opacity: 0.8; }
            100% { transform: scale(1.1); opacity: 1; }
        }

        /* ì€ì€í•œ í„ìŠ¤(ë¹› í¼ì§) ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        /* ìŠ¤í”Œë˜ì‹œ ìŠ¤í¬ë¦° ìˆ¨ê¸°ê¸° í´ë˜ìŠ¤ (JSì—ì„œ ì¶”ê°€ë¨) */
        .splash-hidden {
            opacity: 0 !important;
            visibility: hidden !important;
        }
        
        /* =========================================================
           2. Scroll Reveal Animation (ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ê¸°)
           ========================================================= */
        .hidden-section {
            opacity: 0;
            transform: translateY(50px); /* ì•„ë˜ì—ì„œ 50px ìœ„ë¡œ ì´ë™ëœ ìƒíƒœ */
            /* 1ì´ˆ ë™ì•ˆ ë¶€ë“œëŸ½ê²Œ ì „í™˜ë˜ë„ë¡ ì„¤ì • */
            transition: opacity 1.0s ease-out, transform 1.0s ease-out; 
        }
        /* ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ê²Œ í•  í´ë˜ìŠ¤ (JavaScriptê°€ ì¶”ê°€) */
        .hidden-section.reveal {
            opacity: 1;
            transform: translateY(0);
        }

        /* =========================================================
           3. Main Components (í—¤ë”, ì¹´ë“œ, ë²„íŠ¼ ë“±)
           ========================================================= */
        header { 
            background: #2e8b57; 
            color: #fff; 
            padding: 20px; 
            text-align: center;
            transition: background 0.4s ease; /* ë°°ê²½ìƒ‰ ì „í™˜ íš¨ê³¼ */
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        header:hover {
            background: #3cb371; 
        }
        header h1 { margin: 0; }
        nav ul { list-style: none; margin: 0; padding: 10px 0; display: flex; justify-content: center; background: #3cb371; }
        nav ul li { margin: 0 15px; }
        nav ul li a { 
            color: #fff; 
            text-decoration: none; 
            font-weight: bold; 
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.3s, color 0.3s; 
        }
        nav ul li a:hover {
            background: #2e8b57;
            color: #ffcc00;
        }

        /* ê´€ë¦¬ì ë©”ë‰´ ìŠ¤íƒ€ì¼ */
        .admin-menu a {
            color: #ffcc00 !important;
            background: #800000; /* ì–´ë‘ìš´ ë¹¨ê°„ìƒ‰ ë°°ê²½ */
            font-weight: 900 !important;
        }
        .admin-menu a:hover {
            background: #a020f0 !important; /* ë³´ë¼ìƒ‰ ê³„ì—´ë¡œ í˜¸ë²„ ìƒ‰ìƒ ë³€ê²½ */
        }
        /* ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .login-status {
            color: #ffcc00;
            font-weight: bold;
        }


        section { padding: 50px 20px; max-width: 1000px; margin: auto; }
        h2 { 
            text-align: center; 
            color: #2e8b57; 
            margin-bottom: 30px; 
        }

        /* í¬ìŠ¤íŠ¸ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .post-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 30px;
        }
        .post-card {
          background: white;
          border-radius: 10px;
          box-shadow: 0 4px 8px rgba(0,0,0,0.1);
          overflow: hidden;
          transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
          text-decoration: none; 
          color: #333; 
          display: flex;
          flex-direction: column;
        }
        .post-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        .post-card .post-thumbnail {
            height: 200px;
            overflow: hidden;
            background: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #666;
        }
        .post-card h3 {
          color: #2e8b57;
          font-size: 1.5em;
        }
        .post-meta {
          font-size: 0.8em;
          color: #888;
          margin-bottom: 10px;
        }
        
        /* ê¸€ì“°ê¸° ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes button-pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(46, 139, 87, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(46, 139, 87, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(46, 139, 87, 0); }
        }

        .write-button-container a {
            background: #2e8b57; 
            color: white; 
            padding: 10px 20px; 
            text-decoration: none; 
            border-radius: 5px; 
            font-weight: bold; 
            transition: background 0.3s;
            display: inline-block;
            animation: button-pulse 2s infinite; 
        }
        .write-button-container a:hover {
            background: #3cb371; 
            animation: none; 
        }

        /* =========================================================
           [ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼] ë©¤ë²„ ì†Œê°œ ì„¹ì…˜
           ========================================================= */
        .member-list {
            display: grid;
            /* 200px ì´ìƒì¼ ë•Œ ë°˜ì‘í˜•ìœ¼ë¡œ ìë™ ë°°ì¹˜ */
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-top: 40px;
            text-align: center;
        }

        .member-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .member-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        /* ì„ ìƒë‹˜ ì•„ì´í…œ ê°•ì¡° ìŠ¤íƒ€ì¼ */
        .member-item.teacher {
            background: #f0fff0; /* ì—°í•œ ì´ˆë¡ìƒ‰ ë°°ê²½ */
            border: 2px solid #2e8b57;
            /* ê·¸ë¦¬ë“œì—ì„œ ë” ë„“ê²Œ ì°¨ì§€í•˜ë„ë¡ ì„¤ì • (ì„ íƒ ì‚¬í•­) */
            /* grid-column: span 2; */
        }

        .member-item img {
            width: 100px;
            height: 100px;
            border-radius: 50%; /* ì›í˜• ì´ë¯¸ì§€ */
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid #3cb371;
        }

        .member-item h4 {
            color: #2e8b57;
            margin: 5px 0;
            font-size: 1.2em;
        }

        .member-item p:nth-of-type(1) {
            /* ì§ì±… ê°•ì¡° */
            font-weight: bold;
            color: #444;
            margin-bottom: 5px;
        }

        .member-item p:nth-of-type(2) {
            /* ì—­í•  ì„¤ëª… */
            font-size: 0.9em;
            color: #777;
            margin: 0;
        }

        /* ë¯¸ë””ì–´ ì¿¼ë¦¬ (ëª¨ë°”ì¼ ë°˜ì‘í˜•) */
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
            }
            .post-grid {
                grid-template-columns: 1fr;
            }
            .about-content {
                flex-direction: column;
            }
            /* ëª¨ë°”ì¼ì—ì„œ ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ëŠ” ìë™ìœ¼ë¡œ í•œ ì¤„ì— í•˜ë‚˜ì”© ë°°ì¹˜ë©ë‹ˆë‹¤ (minmax ë•ë¶„) */
        }
    </style>
</head>
<body>

    <div id="splash-screen">
        <div class="splash-content">
            ì „ì£¼ê³µê³  ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤
        </div>
    </div>
    
    <header>
        <h1><a href="{{ url_for('index') }}" style="color: inherit; text-decoration: none;">ì „ì£¼ê³µì—…ê³ ë“±í•™êµ ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤</a></h1>
        <p>í™œë™ ê¸°ë¡ ë° ì •ë³´ ê³µìœ  ë¸”ë¡œê·¸</p>
        <nav>
            <ul>
                <li><a href="#about">ë™ì•„ë¦¬ ì†Œê°œ</a></li>
                <li><a href="#activity">í™œë™ ê¸°ë¡</a></li>
                <li><a href="#members">ë©¤ë²„ ì†Œê°œ</a></li>
                
                {% if g.user %}
                    {% if g.user.is_admin %}
                    <li class="admin-menu"><a href="{{ url_for('admin_dashboard') }}">ê´€ë¦¬ì ë©”ë‰´ â­</a></li> 
                    {% endif %}
                    
                    {% if g.user.is_member %}
                    <li><a href="{{ url_for('write') }}">í™œë™ ì‘ì„±</a></li>
                    {% endif %}
                    
                    <li><a href="{{ url_for('logout') }}">ë¡œê·¸ì•„ì›ƒ (<span class="login-status">{{ g.user.id }}</span>)</a></li>
                {% else %}
                    <li><a href="{{ url_for('member_login') }}">ë™ì•„ë¦¬ ë¡œê·¸ì¸</a></li>
                    <li><a href="{{ url_for('login') }}">ì¼ë°˜ ë¡œê·¸ì¸</a></li>
                {% endif %}
            </ul>
        </nav>
    </header>

    <section id="about" class="about hidden-section">
        <h2>ë™ì•„ë¦¬ ì†Œê°œ</h2>
        <div class="about-content">
            <div class="about-image">
                <img src="https://placehold.co/400x300/2e8b57/ffffff?text=ë©”ì´ì»¤+í™œë™+ì‚¬ì§„" alt="ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ í™œë™ ì´ë¯¸ì§€">
            </div>
            <div class="about-text">
                <h3>ìš°ë¦¬ì˜ ë¹„ì „: ìƒìƒê³¼ í˜„ì‹¤ì„ ì‡ëŠ” ê³µê°„</h3>
                <p>
                    ì „ì£¼ê³µì—…ê³ ë“±í•™êµ ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ ë™ì•„ë¦¬ëŠ” í•™ìƒë“¤ì´ ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¥¼ ì§ì ‘ ì„¤ê³„í•˜ê³  ì œì‘í•˜ëŠ” ê²½í—˜ì„ í†µí•´ ë¯¸ë˜ ê¸°ìˆ  ì¸ì¬ë¡œ ì„±ì¥í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” í•™ìŠµ ê³µë™ì²´ì…ë‹ˆë‹¤. 
                    3D í”„ë¦°íŒ…, ë ˆì´ì € ì»¤íŒ…, ì½”ë”©, ë¡œë´‡ ê³µí•™ ë“± ë‹¤ì–‘í•œ ë©”ì´ì»¤ í™œë™ì„ ì§„í–‰í•˜ë©°, ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•ŠëŠ” ë„ì „ ì •ì‹ ê³¼ í˜‘ì—… ëŠ¥ë ¥ì„ ê¸°ë¥´ê³  ìˆìŠµë‹ˆë‹¤.
                </p>
                <p>
                    ëª¨ë“  í™œë™ì€ ê¸°ë¡ìœ¼ë¡œ ë‚¨ì•„ ê³µìœ ë˜ë©°, í•™êµì™€ ì§€ì—­ ì‚¬íšŒì— ê¸ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.
                </p>
            </div>
        </div>
    </section>

    <section id="activity" class="activity hidden-section">
        <h2>ìµœì‹  í™œë™ ê¸°ë¡</h2>
        
        {% if g.user and g.user.is_member %}
        <div style="text-align: right; margin-bottom: 20px;" class="write-button-container">
            <a href="{{ url_for('write') }}">
               + ìƒˆ í™œë™ ê¸°ë¡ ì‘ì„±
            </a>
        </div>
        {% endif %}

        <div class="post-grid">
            {% for post in posts %}
            <a href="{{ url_for('detail', post_id=post.id) }}" class="post-card">
              <div class="post-thumbnail">
                ğŸ’¡
              </div>
              <div class="post-content">
                <h3>{{ post.title }}</h3>
                <div class="post-meta">
                  <span class="date">ì‘ì„±ì¼: {{ post.created_at.strftime('%Y-%m-%d') }}</span>
                  <span>ì‘ì„±ì: {{ post.author }}</span>
                </div>
                <p>{{ post.content[:100] }}{% if post.content|length > 100 %}...{% endif %}</p> 
              </div>
            </a>
            {% endfor %}

            {% if not posts %}
            <p style="text-align: center; grid-column: 1 / -1;">ì•„ì§ ì‘ì„±ëœ í™œë™ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ê¸€ì„ ì‘ì„±í•´ ë³´ì„¸ìš”!</p>
            {% endif %}

        </div>
    </section>

    <section id="members" class="members hidden-section">
        <h2>ì£¼ìš” ë©¤ë²„ ì†Œê°œ</h2>
        <div class="member-list">
            
            <div class="member-item teacher">
                <img src="https://placehold.co/100x100/800080/ffffff?text=ìµœì§€ë„" alt="ë‹´ë‹¹ ì„ ìƒë‹˜ ì‚¬ì§„">
                <h4>ìµœ ì§€ë„ ì„ ìƒë‹˜</h4>
                <p>ì§€ë„êµì‚¬ / Master Advisor</p>
                <p>ë™ì•„ë¦¬ ì´ê´„ ì§€ë„, ì•ˆì „ ë° ì¥ë¹„ êµìœ¡ ë‹´ë‹¹</p>
            </div>
            
            <div class="member-item">
                <img src="https://placehold.co/100x100/2e8b57/ffffff?text=ê¹€íšŒì¥" alt="íšŒì¥ ì‚¬ì§„">
                <h4>ê¹€ íšŒì¥</h4>
                <p>ë™ì•„ë¦¬ íšŒì¥ (3í•™ë…„) / Leader</p>
                <p>í™œë™ ê¸°íš ë° ìš´ì˜ ì´ê´„, ëŒ€ì™¸ í˜‘ë ¥ ë‹´ë‹¹</p>
            </div>
            
            <div class="member-item">
                <img src="https://placehold.co/100x100/3cb371/ffffff?text=ì´ë¶€íšŒì¥" alt="ë¶€íšŒì¥ ì‚¬ì§„">
                <h4>ì´ ë¶€íšŒì¥</h4>
                <p>ë¶€íšŒì¥ (2í•™ë…„) / Vice Leader</p>
                <p>ì¬ì • ë° ê¸°ë¡ ê´€ë¦¬, ë‚´ë¶€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë‹´ë‹¹</p>
            </div>
            
            <div class="member-item">
                <img src="https://placehold.co/100x100/4682b4/ffffff?text=ë°•ë©¤ë²„" alt="ë©¤ë²„ A ì‚¬ì§„">
                <h4>ë°• ë©¤ë²„ A</h4>
                <p>ì •íšŒì› (1í•™ë…„) / Member</p>
                <p>3D ëª¨ë¸ë§ ë° CAD ì„¤ê³„ ì „ë¬¸ ë¶„ì•¼ ë‹´ë‹¹</p>
            </div>
            
            <div class="member-item">
                <img src="https://placehold.co/100x100/4682b4/ffffff?text=ì •ë©¤ë²„" alt="ë©¤ë²„ B ì‚¬ì§„">
                <h4>ì • ë©¤ë²„ B</h4>
                <p>ì •íšŒì› (2í•™ë…„) / Member</p>
                <p>ì„ë² ë””ë“œ ì‹œìŠ¤í…œ(Arduino/Raspberry Pi) ì½”ë”© ë‹´ë‹¹</p>
            </div>
            
        </div>
    </section>
    
    <footer>
        <p style="text-align: center; padding: 20px; background: #2e8b57; color: white; margin-top: 50px; font-size: 0.8em;">
            &copy; ì „ì£¼ê³µì—…ê³ ë“±í•™êµ ë©”ì´ì»¤ ìŠ¤í˜ì´ìŠ¤ ë™ì•„ë¦¬. All Rights Reserved.
        </p>
    </footer>

    <script>
        // 1. ìŠ¤í”Œë˜ì‹œ ìŠ¤í¬ë¦° ìˆ¨ê¸°ê¸° (í˜ì´ì§€ ë¡œë”© í›„ 2ì´ˆ ë’¤ ì‹¤í–‰)
        document.addEventListener('DOMContentLoaded', () => {
            const splashScreen = document.getElementById('splash-screen');
            // 2ì´ˆ(2000ms) í›„ì— ìŠ¤í”Œë˜ì‹œ í™”ë©´ì„ ìˆ¨ê¹ë‹ˆë‹¤.
            setTimeout(() => {
                // opacityì™€ visibilityë¥¼ ë³€ê²½í•˜ëŠ” CSS í´ë˜ìŠ¤ ì¶”ê°€
                splashScreen.classList.add('splash-hidden');
            }, 2000);
        });

        // 2. ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ê¸° ì• ë‹ˆë©”ì´ì…˜ (IntersectionObserver ì‚¬ìš©)
        const observerOptions = {
            root: null, // ë·°í¬íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê´€ì°°
            rootMargin: '0px',
            threshold: 0.1 // ìš”ì†Œê°€ ë·°í¬íŠ¸ì˜ 10% ì´ìƒ ë³´ì´ë©´ íŠ¸ë¦¬ê±°
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                // ìš”ì†Œê°€ ë·°í¬íŠ¸ì— ì§„ì…í•˜ë©´ 'reveal' í´ë˜ìŠ¤ ì¶”ê°€
                if (entry.isIntersecting) {
                    entry.target.classList.add('reveal');
                    // ì• ë‹ˆë©”ì´ì…˜ì´ í•œ ë²ˆ ì‹¤í–‰ëœ í›„ì—ëŠ” ê´€ì°° ì¤‘ì§€ (ì„±ëŠ¥ ìµœì í™”)
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        // ê´€ì°°í•  ì„¹ì…˜ë“¤ì„ ì„ íƒí•˜ê³  ê´€ì°°ìì— ë“±ë¡
        const hiddenElements = document.querySelectorAll('.hidden-section');
        hiddenElements.forEach(el => {
            observer.observe(el);
        });
    </script>
</body>
</html>